<odoo>
    <!-- Tampilan daftar untuk Donasi -->
    <record id="view_cdn_donation_list" model="ir.ui.view">
        <field name="name">cdn.donation.list</field>
        <field name="model">cdn.donation</field>
        <field name="arch" type="xml">
            <list string="Donasi">
                <!-- Daftar field yang ingin ditampilkan -->
                <field name="name"/>
                <field name="target_amount" widget="integer"/>
                <field name="collected_amount" widget="integer"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="is_active"/>
            </list>
        </field>
    </record>
    <!-- Tampilan form untuk Donasi -->
    <record id="view_cdn_donation_form" model="ir.ui.view">
        <field name="name">cdn.donation.form</field>
        <field name="model">cdn.donation</field>
        <field name="arch" type="xml">
            <form string="Donasi">
                <sheet>
                    <group>
                        <field name="name"/>
                    </group>
                    <!-- Field lainnya -->
                    <group>
                        <group>
                            <field name="bank_account"/>
                            <field name="qr_image" widget="image"/>
                        </group>
                        <group>
                            <field name="description" widget="html"/>
                        </group>
                    </group>
                    <group>
                        <field string="Target Donasi" name="target_amount" widget="integer"/>
                    </group>
                    <notebook>
                        <page string="Setting" >
                            <group>
                                <field name="start_date" string="Tgl Mulai" groups="pesantren_kesantrian.group_kesantrian_manager"/>
                                <field name="end_date" string="Tgl Selesai" groups="pesantren_kesantrian.group_kesantrian_manager"/>
                                <field string="Status Donasi" name="is_active"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Aksi untuk membuka tampilan Donasi -->
    <record id="action_cdn_donation_list" model="ir.actions.act_window">
        <field name="name">Setting Donasi</field>
        <field name="res_model">cdn.donation</field>
        <field name="view_mode">list,form</field>
        <field name="target">current</field>
        <!-- Membuka di jendela yang sama -->
    </record>
    <record id="view_cdn_donation_detail_form" model="ir.ui.view">
        <field name="name">cdn.donation.detail.form</field>
        <field name="model">cdn.donation.detail</field>
        <field name="arch" type="xml">
            <form string="Detail Donasi">
                <header>
                
                <button string="Verifikasi" name="action_set_to_terverifikasi" type="object" class="oe_highlight" invisible="state == 'terverifikasi'" groups="pesantren_kesantrian.group_kesantrian_manager"/>
                <button string="Kembali Draft" name="action_set_to_draft" type="object" class="oe_highlight" invisible="state == 'draft'" groups="pesantren_kesantrian.group_kesantrian_manager"/>
                    <field name="state" 
                        widget="statusbar"
                        />
                </header>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="date"/>
                    </group>
                    <group>
                        <group string="Detail Sumbangan Terkait">
                            <field name="donation_id" context="{'form_view_ref': 'view_cdn_donation_form'}" options="{'no_create': True}" />
                            <field name="bank_account" readonly="1"/>
                            <field name="qr_image" widget="image" readonly="1"/>
                        </group>
                        <group string="Bukti Transaksi">
                            <field name="amount"/>
                            <field name="bukti_image" widget="image" 
                        required="1"
                        />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="view_cdn_donation_detail_list" model="ir.ui.view">
        <field name="name">cdn.donation.detail.list</field>
        <field name="model">cdn.donation.detail</field>
        <field name="arch" type="xml">
            <list string="Detail Donasi">
                <!-- Daftar field yang ingin ditampilkan -->
                <field name="name"/>
                <field name="amount" widget="integer"/>
                <field name="date"/>
                <field name="donation_id"/>
                <field name="created_by"/>
            </list>
        </field>
    </record>
    <record id="action_cdn_donation_detail_list" model="ir.actions.act_window">
        <field name="name">Detail Donasi</field>
        <field name="res_model">cdn.donation.detail</field>
        <field name="view_mode">list,form</field>
        <field name="target">current</field>
    </record>
    <!-- Menuitem Utama Donasi -->
    <menuitem id="menu_donasi" name="Donasi" parent="pesantren_keuangan.keuangan_menu_root"/>
    <!-- Menuitem untuk membuka Setting Donasi -->
    <menuitem id="menu_setting_donasi" name="Setting Donasi" parent="pos_wallet_odoo.menu_donasi" action="action_cdn_donation_list"/>
    <!-- Menuitem untuk membuka Setting Donasi -->
    <menuitem id="menu_detail_donasi" name="Detail Donatur" parent="pos_wallet_odoo.menu_donasi" action="action_cdn_donation_detail_list"/>
</odoo>